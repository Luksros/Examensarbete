@{
    ViewData["Title"] = "Home Page";
}

@model Examensarbete.ViewModels.UserProjects

<style>
    .outerContainer {
        display: flex;
        justify-content: center;
        width: 100%;
        background-color: #bcbcbc;
        height: 94.5vh
    }

    .menuContainer {
        display: flex;
        height: 90vh;
        margin: 1rem;
        border: 1px solid #e0e0e0;
        width: 90vw;
        max-width: 1080px;
        background-color: white;
        border-radius: 6px;
        box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.1);
    }

    .sideMenuContainer {
        display: block;
        height: 100%;
        border-right: 1px solid #e0e0e0;
    }

    .username {
        font-size: 1.3rem;
        margin-left: 1rem;
        color: #333333;
    }

    .contentMenuContainer {
        display: block;
    }

    .usernameContainer {
        padding: 0.8rem;
        border-bottom: 2px solid #e0e0e0;
        background-color: #f5f5f5;
        border-radius: 6px 0 0 0;
        color: #333333;
    }

    .contentMenuHeaderContainer {
        padding: 0.8rem;
        min-height: 3rem;
        border-bottom: 2px solid #e0e0e0;
        background-color: #f5f5f5;
        color: #333333;
    }

    .contentMenuHeader {
        font-size: 1.3rem;
        margin-left: 1rem;
        color: #333333;
    }

    .projectsList {
        padding-left: 0 !important;
        margin-bottom: 0 !important;
    }

    .projectListItem:last-child {
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: .8rem;
        margin-bottom: 0 !important;
    }

    .projectListItem {
        list-style: none;
        padding: .8rem 0;
        border-bottom: 1px solid #e0e0e0;
        cursor: pointer;
        padding-left: 1.5rem;
        color: #666666;
    }

    .projectsHeader {
        padding: 0.8rem 1.5rem;
        background-color: #f5f5f5;
        cursor: pointer;
        border-bottom: 1px solid #e0e0e0;
        color: #333333;
        transition: all .2s ease;
    }

    .projectsHeader:hover, .uploadProjectHeader:hover {
        background-color: #dcdcdc;
        font-size: 1.1rem;
    }

    .uploadProjectHeader {
        padding: 0.8rem 1.5rem;
        background-color: #f5f5f5;
        cursor: pointer;
        border-bottom: 1px solid #e0e0e0;
        color: #333333;
        transition: all .2s ease;
    }
</style>
<div class="outerContainer">
    <div class="menuContainer">
        <div class="col-3 sideMenuContainer">
            <div class="usernameContainer">
                <div class="username">
                    @Model.User.Username
                </div>
            </div>
            <div class="projectsHeader" onclick="showHideProjectsList()">
                <?xml version="1.0" encoding="utf-8" ?>
                <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.1" d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" fill="#323232" />
                    <path d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" stroke="#323232" stroke-width="2" />
                </svg>
                Projects
            </div>
            <ul class="projectsList" id="projectsList" style="display: none;">
                @if(Model.Projects.Any())
                {
                    foreach (var projectfile in Model.Projects)
                    {
                        <li class="projectListItem" onclick="loadProjectDetails('@Url.Action("_ProjectDetails", "Project", new { projectPublicId = projectfile.PublicId})')">
                            <div>
                                - @projectfile.ProjectFileName
                            </div>
                        </li>
                    }
                }
                
            </ul>
            <div class="projectsHeader" onclick="showHideCollabProjectsList()">
                <?xml version="1.0" encoding="utf-8" ?>
                <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.1" d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" fill="#323232" />
                    <path d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" stroke="#323232" stroke-width="2" />
                    <path d="M12 16.5L12 11" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M9.5 14L11.9187 16.4187V16.4187C11.9636 16.4636 12.0364 16.4636 12.0813 16.4187V16.4187L14.5 14" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Collab Projects
            </div>
            <ul class="projectsList" id="collabProjectsList" style="display: none;">
                @if(Model.CollabProjects.Any())
                {
                    foreach (var projectfile in Model.CollabProjects)
                    {
                        <li class="projectListItem" onclick="loadProjectDetails('@Url.Action("_ProjectDetails", "Project", new { projectPublicId = projectfile.PublicId})')">
                            <div>
                                - @projectfile.ProjectFileName
                            </div>
                        </li>
                    }
                }
                
            </ul>
            <div class="uploadProjectHeader">
                <?xml version="1.0" encoding="utf-8" ?>
                <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                <svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.1" d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" fill="#323232" />
                    <path d="M3 9.312C3 4.93757 3.93757 4 8.312 4H9.92963C10.5983 4 11.2228 4.3342 11.5937 4.8906L12.4063 6.1094C12.7772 6.6658 13.4017 7 14.0704 7C15.9647 7 17.8145 7 19.1258 7C20.1807 7 21.0128 7.82095 21.0029 8.8758C21.0013 9.05376 21 9.20638 21 9.312V14.688C21 19.0624 20.0624 20 15.688 20H8.312C3.93757 20 3 19.0624 3 14.688V9.312Z" stroke="#323232" stroke-width="2" />
                    <path d="M12 11L12 16" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M14.5 13.5L9.5 13.5" stroke="#323232" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                Upload Project
            </div>
        </div>
        <div class="col-9 contentMenuContainer">
            <div class="contentMenuHeaderContainer">
                <div class="contentMenuHeader">Project Details</div>
            </div>
            <div id="projectDetailsContainer"></div>
        </div>
    </div>
</div>
<script>
    function showHideProjectsList() {
        var elem = document.getElementById('projectsList');
        elem.style.display = elem.style.display === 'none' ? 'block' : 'none';
        elem = document.getElementById('collabProjectsList');
        elem.style.display = 'none';
    }

    function showHideCollabProjectsList() {
        var elem = document.getElementById('collabProjectsList');
        elem.style.display = elem.style.display === 'none' ? 'block' : 'none';
        elem = document.getElementById('projectsList');
        elem.style.display = 'none';
    }

    function uploadProject(){
        showHideProjectsList();
        //LOTS MORE TO DO HERE
    }

    function loadProjectDetails(url) {
        $('#projectDetailsContainer').load(url);
    }
</script>